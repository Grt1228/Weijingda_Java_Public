<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.ojs/JQuery-zTree-v3.5.15tml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>查看成绩</title>
    <link rel="stylesheet" type="text/css" href="../../css/default.css">
    <link rel="stylesheet" type="text/css" href="../../js/jquery-easyui-1.3.5/themes/gray/easyui.css">
    <link rel="stylesheet" type="text/css" href="../../js/jquery-easyui-1.3.5/themes/icon.css" />
    <script type="text/javascript" src="../../js/jquery-easyui-1.3.5/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="../../js/jquery-easyui-1.3.5/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../../js/extends.js"></script>
    <script type="text/javascript" src="../../js/common.js"></script>

</head>r
<body class="easyui-layout" >
<div id="body" region="center" >
    <!-- 查询条件区域 -->
    <div id="search_area" >
        <div id="conditon">
            <table border="0">
                <tr>
                    <td >学号：</td>
                    <td width="200">
                        <input name="loginName" id="loginName" /></td>
                    <td >姓名：</td>
                    <td width="200">
                        <input name="studentName" id="studentName" /></td>
                    <td>
                        <a  href="javascript:void(0)" class="easyui-linkbutton my-search-button" iconCls="icon-search" plain="true" onclick="scoreList()">查询</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <!-- 数据表格区域 -->
    <table id="scoreList" class="easyui-datagrid" style="width:400px;height:250px"
           data-options="fitColumns:true,singleSelect:true,rownumbers:true,showPageList:false,pagination:true">
        <thead>
        <tr>
            <th data-options="field:'scoreId',width:100,halign:'center',align:'center'">记录id</th>
            <th data-options="field:'studentId',width:200,halign:'center',align:'center'">学生id</th>
            <th data-options="field:'loginName',width:200,halign:'center',align:'center'">学号</th>
            <th data-options="field:'studentName',width:80,halign:'center',align:'center'">姓名</th>
            <th data-options="field:'courseId',width:80,halign:'center',align:'center'">课程id</th>
            <th data-options="field:'courseName',width:80,halign:'center',align:'center'">课程名称</th>
            <th data-options="field:'courseProperty',width:80,halign:'center',align:'center'">课程性质</th>
            <th data-options="field:'courseType',width:80,halign:'center',align:'center'">课程类别</th>
            <th data-options="field:'testProperty',width:80,halign:'center',align:'center'">考试性质</th>
            <th data-options="field:'testType',width:80,halign:'center',align:'center'">考核方式</th>
            <th data-options="field:'repairTime',width:80,halign:'center',align:'center'">补重学期</th>
            <th data-options="field:'learningTime',width:80,halign:'center',align:'center'">开课时间</th>
            <th data-options="field:'score',width:80,halign:'center',align:'center'">总成绩</th>
            <th data-options="field:'credit',width:80,halign:'center',align:'center'">学分</th>
            <th data-options="field:'hours',width:80,halign:'center',align:'center'">学时</th>
            <th data-options="field:'status',width:80,halign:'center',align:'center'">是否及格</th>
            <th data-options="field:'statusDesc',width:80,halign:'center',align:'center'">是否及格</th>
            <th data-options="field:'countCredit',width:80,halign:'center',align:'center'">总学分</th>
            <th data-options="field:'countHours',width:80,halign:'center',align:'center'">总学时</th>
            <th data-options="field:'countCourse',width:80,halign:'center',align:'center'">总课程数</th>
            <th data-options="field:'createTime',width:80,halign:'center',align:'center'">创建时间</th>
            <th data-options="field:'modifiedTime',width:80,halign:'center',align:'center'">修改时间</th>
        </tr>
        </thead>
    </table>


</div>
<script type="text/javascript">
    $(function(){
        $("#scoreList").datagrid({
            height:$("#body").height()-$('#search_area').height()-5,
            width:$("#body").width()
        });
    })
    function scoreList() {
        var loginName = $('#loginName').val();
        var studentName = $('#studentName').val();
        $("#scoreList").datagrid({
            height:$("#body").height()-$('#search_area').height()-5,
            width:$("#body").width(),
            url:'/back/user/score/list.do',
            queryParams:{
                loginName:loginName,
                studentName:studentName
            },
            onLoadSuccess:function (data) {
                //goLogin(data);
                if(data.status=="10"){
                    $.messager.alert('提示','登陆过期，重新登陆!','warning',function(r){
                        if (true){
                            window.location.href="/login.html";
                        }
                    });
                }
            }
        });
    }
</script>
</body>
</html>r